{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["import axios from 'axios';\n\nexport function fetchImages(searchQuery) {\n    const API_KEY = '49429251-c344791abe1bae313073c39aa';\n    const BASE_URL = 'https://pixabay.com/api/';\n    \n    const searchParams = {\n        key: API_KEY,\n        q: searchQuery,\n        image_type: 'photo',\n        orientation: 'horizontal',\n        safesearch: true,\n        per_page: 40\n    };\n\n    return axios.get(BASE_URL, { params: searchParams })\n        .then(response => response.data)\n        .catch(() => {\n            throw new Error('Failed to fetch images from Pixabay');\n        });\n}\n","import SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nlet lightbox = null;\n\nexport function renderGallery(images, galleryContainer) {\n    const markup = images.map(({ webformatURL, largeImageURL, tags, likes, views, comments, downloads }) => `\n        <li class=\"gallery-item\">\n            <a class=\"gallery-link\" href=\"${largeImageURL}\">\n                <img \n                    class=\"gallery-image loading\" \n                    src=\"${webformatURL}\" \n                    alt=\"${tags}\"\n                    loading=\"lazy\"\n                    onload=\"this.classList.remove('loading')\"\n                />\n                <div class=\"image-info\">\n                    <p class=\"info-item\">\n                        <b>Likes</b>\n                        <span>${likes}</span>\n                    </p>\n                    <p class=\"info-item\">\n                        <b>Views</b>\n                        <span>${views}</span>\n                    </p>\n                    <p class=\"info-item\">\n                        <b>Comments</b>\n                        <span>${comments}</span>\n                    </p>\n                    <p class=\"info-item\">\n                        <b>Downloads</b>\n                        <span>${downloads}</span>\n                    </p>\n                </div>\n            </a>\n        </li>\n    `).join('');\n\n    galleryContainer.innerHTML = markup;\n    \n    if (!lightbox) {\n        lightbox = new SimpleLightbox('.gallery a', {\n            captionsData: 'alt',\n            captionDelay: 250,\n        });\n    }\n    lightbox.refresh();\n}\n\nexport function clearGallery(galleryContainer) {\n    galleryContainer.innerHTML = '';\n}\n","import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport { fetchImages } from './js/pixabay-api.js';\nimport { renderGallery, clearGallery } from './js/render-functions.js';\n\nconst form = document.querySelector('.form');\nconst gallery = document.querySelector('.gallery');\nconst loader = document.querySelector('.loader');\n\nform.addEventListener('submit', (event) => {\n    event.preventDefault();\n    const searchQuery = event.target.elements['search-text'].value.trim();\n    \n    if (!searchQuery) {\n        iziToast.show({\n            message: 'Please enter a search query',\n            messageColor: '#fff',\n            backgroundColor: '#EF4040',\n            position: 'topRight'\n        });\n        return;\n    }\n\n    clearGallery(gallery);\n    loader.classList.remove('is-hidden');\n\n    fetchImages(searchQuery)\n        .then(data => {\n            if (data.hits.length === 0) {\n                iziToast.show({\n                    message: 'Sorry, there are no images matching your search query. Please try again.',\n                    messageColor: '#fff',\n                    backgroundColor: '#EF4040',\n                    position: 'topRight'\n                });\n                return;\n            }\n            renderGallery(data.hits, gallery);\n        })\n        .catch(error => {\n            iziToast.show({\n                message: 'An error occurred while fetching images. Please try again later.',\n                messageColor: '#fff',\n                backgroundColor: '#EF4040',\n                position: 'topRight'\n            });\n        })\n        .finally(() => {\n            loader.classList.add('is-hidden');\n            event.target.reset();\n        });\n}); "],"names":["fetchImages","searchQuery","API_KEY","BASE_URL","searchParams","axios","response","lightbox","renderGallery","images","galleryContainer","markup","webformatURL","largeImageURL","tags","likes","views","comments","downloads","SimpleLightbox","clearGallery","form","gallery","loader","event","iziToast","data","error"],"mappings":"owBAEO,SAASA,EAAYC,EAAa,CACrC,MAAMC,EAAU,qCACVC,EAAW,2BAEXC,EAAe,CACjB,IAAKF,EACL,EAAGD,EACH,WAAY,QACZ,YAAa,aACb,WAAY,GACZ,SAAU,EAClB,EAEI,OAAOI,EAAM,IAAIF,EAAU,CAAE,OAAQC,CAAY,CAAE,EAC9C,KAAKE,GAAYA,EAAS,IAAI,EAC9B,MAAM,IAAM,CACT,MAAM,IAAI,MAAM,qCAAqC,CACjE,CAAS,CACT,CCjBA,IAAIC,EAAW,KAER,SAASC,EAAcC,EAAQC,EAAkB,CACpD,MAAMC,EAASF,EAAO,IAAI,CAAC,CAAE,aAAAG,EAAc,cAAAC,EAAe,KAAAC,EAAM,MAAAC,EAAO,MAAAC,EAAO,SAAAC,EAAU,UAAAC,CAAW,IAAK;AAAA;AAAA,4CAEhEL,CAAa;AAAA;AAAA;AAAA,2BAG9BD,CAAY;AAAA,2BACZE,CAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gCAOCC,CAAK;AAAA;AAAA;AAAA;AAAA,gCAILC,CAAK;AAAA;AAAA;AAAA;AAAA,gCAILC,CAAQ;AAAA;AAAA;AAAA;AAAA,gCAIRC,CAAS;AAAA;AAAA;AAAA;AAAA;AAAA,KAKpC,EAAE,KAAK,EAAE,EAEVR,EAAiB,UAAYC,EAExBJ,IACDA,EAAW,IAAIY,EAAe,aAAc,CACxC,aAAc,MACd,aAAc,GAC1B,CAAS,GAELZ,EAAS,QAAO,CACpB,CAEO,SAASa,EAAaV,EAAkB,CAC3CA,EAAiB,UAAY,EACjC,CC9CA,MAAMW,EAAO,SAAS,cAAc,OAAO,EACrCC,EAAU,SAAS,cAAc,UAAU,EAC3CC,EAAS,SAAS,cAAc,SAAS,EAE/CF,EAAK,iBAAiB,SAAWG,GAAU,CACvCA,EAAM,eAAc,EACpB,MAAMvB,EAAcuB,EAAM,OAAO,SAAS,aAAa,EAAE,MAAM,OAE/D,GAAI,CAACvB,EAAa,CACdwB,EAAS,KAAK,CACV,QAAS,8BACT,aAAc,OACd,gBAAiB,UACjB,SAAU,UACtB,CAAS,EACD,MACH,CAEDL,EAAaE,CAAO,EACpBC,EAAO,UAAU,OAAO,WAAW,EAEnCvB,EAAYC,CAAW,EAClB,KAAKyB,GAAQ,CACV,GAAIA,EAAK,KAAK,SAAW,EAAG,CACxBD,EAAS,KAAK,CACV,QAAS,2EACT,aAAc,OACd,gBAAiB,UACjB,SAAU,UAC9B,CAAiB,EACD,MACH,CACDjB,EAAckB,EAAK,KAAMJ,CAAO,CAC5C,CAAS,EACA,MAAMK,GAAS,CACZF,EAAS,KAAK,CACV,QAAS,mEACT,aAAc,OACd,gBAAiB,UACjB,SAAU,UAC1B,CAAa,CACb,CAAS,EACA,QAAQ,IAAM,CACXF,EAAO,UAAU,IAAI,WAAW,EAChCC,EAAM,OAAO,OACzB,CAAS,CACT,CAAC"}